webpackJsonp([2],{lBFD:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),e._v(" "),r("el-breadcrumb-item",[e._v("个人中心")]),e._v(" "),r("el-breadcrumb-item",[e._v("个人信息")]),e._v(" "),r("el-breadcrumb-item",[e._v("基本资料")])],1),e._v(" "),e._m(0),e._v(" "),r("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,"label-width":"80px",rules:e.rules}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{attrs:{disabled:!e.active},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"等级",prop:"level"}},[r("el-input",{attrs:{disabled:""},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"个性签名",prop:"signature"}},[r("el-input",{attrs:{disabled:!e.active,type:"textarea"},model:{value:e.form.signature,callback:function(t){e.$set(e.form,"signature",t)},expression:"form.signature"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"您的地址",prop:"address"}},[r("el-input",{attrs:{disabled:!e.active},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"性别",prop:"sex"}},[r("el-radio-group",{attrs:{disabled:!e.active},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[r("el-radio",{attrs:{label:1}},[e._v("男")]),e._v(" "),r("el-radio",{attrs:{label:2}},[e._v("女")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"手机号",prop:"address"}},[r("el-input",{attrs:{disabled:!e.active},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"您的邮箱",prop:"address"}},[r("el-input",{attrs:{disabled:!e.active},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),r("el-form-item",[e.active?e._e():r("el-button",{attrs:{type:"warning",disabled:e.active},on:{click:function(t){return e.makeActive()}}},[e._v("修改")]),e._v(" "),e.active?r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("提交")]):e._e(),e._v(" "),e.active?r("el-button",{on:{click:function(t){return e.disActive()}}},[e._v("取消")]):e._e()],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("h3",[t("i",{staticClass:"el-icon-edit"}),this._v(" 要更新您的资料吗，亲？")])}]};var a=r("VU/8")({data:function(){return{active:!1,form:{username:"",level:"",phone:"",email:"",sex:"",address:"",signature:""},rules:{username:[{required:!0,message:"请输入必填项",trigger:"blur"}],level:[{required:!0,message:"请输入必填项",trigger:"blur"}],phone:[{required:!0,message:"请输入必填项",trigger:"blur"}],email:[{required:!0,message:"请输入必填项",trigger:"blur"}],sex:[{required:!0,message:"请输入必填项",trigger:"blur"}],address:[{required:!0,message:"请输入必填项",trigger:"blur"}],signature:[{required:!0,message:"请输入必填项",trigger:"blur"}]}}},components:{},mounted:function(){var e=this;this.$axios.get("/user/info").then(function(t){e.form=t.data})},methods:{disActive:function(){this.active=!1},makeActive:function(){this.active=!0},submitForm:function(){var e=this;this.$refs.form.validate(function(t){t?(e.form.username=e.$store.state.userinfo.username,e.$confirm("确定提交吗，亲？","修改信息确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.put("/user/myself",e.form).then(function(t){"success"===t.data.flag?(e.$message({type:"success",message:"信息更新成功"}),e.$router.push("/personal")):e.$message({type:"error",message:"修改失败"})})}).catch(function(){e.$message({type:"info",message:"取消修改信息"})})):e.$message({type:"error",message:"请按规则填写"})})}}},s,!1,function(e){r("vgdH")},"data-v-507d2daf",null);t.default=a.exports},vgdH:function(e,t){}});
//# sourceMappingURL=2.66cdf583869168510676.js.map